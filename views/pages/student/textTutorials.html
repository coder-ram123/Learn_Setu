<%- include('../../partials/student/header.html') %>
<link rel="stylesheet" href="/css/student/textTutorials.css">
</head>

<body>
    <%- include('../../partials/student/sidebar.html') %>
    <%- include('../../partials/student/navbar.html') %>

    <!-- Main Content for Course Materials -->
    <div class="content">
        <div class="heading">Ebooks</div>

        <div class="unit">
            <div class="unit-header" onclick="toggleSubunits('unit1')">Unit 1</div>
            <div class="subunit-list" id="unit1">
                <div class="subunit" onclick="openPDF(0)">1.1 Life</div>
                <div class="subunit" onclick="openPDF(1)">1.2 A Synopsis - The Swiss Family Robinson</div>
                <div class="subunit" onclick="openPDF(2)">1.3 Have you ever seen…?</div>
            </div>
        </div>
        
        <div class="unit">
            <div class="unit-header" onclick="toggleSubunits('unit2')">Unit 2</div>
            <div class="subunit-list" id="unit2">
                <div class="subunit" onclick="openPDF(3)">2.1 Invictus</div>
                <div class="subunit" onclick="openPDF(4)">2.2 A True Story of Sea Turtles</div>
                <div class="subunit" onclick="openPDF(5)">2.3 Somebody’s Mother</div>
            </div>
        </div>
        
        <!-- PDF Viewer -->
        <iframe id="pdfViewer" src="" width="100%" height="500px"></iframe>

        <!-- Previous and Next buttons -->
        <div class="navigation-buttons">
            <button class="btn" id="prevBtn" onclick="prevPDF()">Previous</button>
            <button class="btn" id="nextBtn" onclick="nextPDF()">Next</button>
        </div>
    </div>

    <script>
        // List of PDF files with correct paths
        const pdfFiles = [
            '/pdfs/Life.pdf',                          // 1.1 Life
            '/pdfs/synopsis.pdf',         // 1.2 A Synopsis - The Swiss Family Robinson
            '/pdfs/haveyou.pdf',            // 1.3 Have you ever seen…?
            '/pdfs/invictus.pdf',                      // 2.1 Invictus
            '/pdfs/truestory.pdf',                   // 2.2 A True Story of Sea Turtles
            '/pdfs/somebody .pdf'               // 2.3 Somebody’s Mother
        ];

        let currentIndex = 0; // Track the currently displayed PDF

        function toggleSubunits(unitId) {
            const subunitList = document.getElementById(unitId);
            subunitList.style.display = (subunitList.style.display === "block") ? "none" : "block";
        }

        function openPDF(index) {
            currentIndex = index; // Update the current index to the clicked session
            document.getElementById('pdfViewer').src = pdfFiles[currentIndex];
        }

        function prevPDF() {
            if (currentIndex > 0) {
                currentIndex--;
                document.getElementById('pdfViewer').src = pdfFiles[currentIndex];
            }
        }

        function nextPDF() {
            if (currentIndex < pdfFiles.length - 1) {
                currentIndex++;
                document.getElementById('pdfViewer').src = pdfFiles[currentIndex];
            }
        }

        // Load the first unit and session by default
        openPDF(currentIndex);
    </script>

    <%- include('../../partials/student/footer.html') %>
